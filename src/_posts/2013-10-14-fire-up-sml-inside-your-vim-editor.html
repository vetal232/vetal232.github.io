---
title: Fire up SML inside your Vim Editor
tags: [command line, workflow]
---

<p>While I was working for a <abbr title="Massive Open Online Course">MOOC</abbr> the other day, I realized that the professor was using a combination of Emacs and something called SML Mode to start the SML interpreter right inside the editor. Jealousy hit me&mdash;being myself a Vim evangelist&mdash;and I immediately started my search for something similar in the VI world.</p>

<p>My solution is a neat two-liner, ready to be copied into your Vim config file, e.g. <code>~/.vimrc</code>:</p>

{% highlight vim %}
autocmd FileType sml command Sml !sml '%'
map #5 :Sml^M
{% endhighlight %}

<p>Okay, what&rsquo;s happening here? First, we create a new command called <code>Sml</code> (please note that user-defined commands have to be capitalized) which is available whenever we work with SML files. Now, when you type <kbd>:Sml</kbd> in Vim you will switch to the shell and find yourself in the SML interpreter.</p>

<p>Better yet, the percent sign is replaced by the current file name. That means your code will be loaded into SML automatically and is ready to be used (or will throw an exception, in case you screwed up). Isn&rsquo;t that lovely? If that is what you want, we are done and it needed only one line of Vim configuration. But there&rsquo;s more!</p>

<p>In Vim you can assign a frequently used command sequence to a key to save you some keystrokes and time. That&rsquo;s what&rsquo;s happening in line two: We map <code>:Sml^M</code> to the <kbd>F5</kbd> function key. Please be careful with the last character on that line, since it is not a caret and an M, but rather one single character signifying an <kbd>Enter</kbd> keystroke. To get this escaped control key hit <kbd>Ctrl-V</kbd> and <kbd>Enter</kbd>.</p>

<p>That&rsquo;s all it takes to have the SML interpreter at your fingertip while coding.</p>
